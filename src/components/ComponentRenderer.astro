---
import GlassCard from './lib/GlassCard.astro';
import NeoButton from './lib/NeoButton.astro';
import Heatmap from './lib/Heatmap.astro';
import CircularProgress from './lib/CircularProgress.astro';
import FileUploader from './lib/FileUploader.astro';
import CyberToggle from './lib/CyberToggle.astro';
import CodeSnippet from './lib/CodeSnippet.astro';
import CyberBadge from './lib/CyberBadge.astro';
import NeonAlert from './lib/NeonAlert.astro';
import DigitalRain from './lib/DigitalRain.astro';
import HologramAvatar from './lib/HologramAvatar.astro';

interface Props {
  id: string;
}

const { id } = Astro.props;

// 组件注册映射表
const COMPONENT_MAP: Record<string, any> = {
  'glass-card': GlassCard,
  'neo-button': NeoButton,
  'heatmap': Heatmap,
  'circular-progress': CircularProgress,
  'file-uploader': FileUploader,
  'cyber-toggle': CyberToggle,
  'code-snippet': CodeSnippet,
  'cyber-badge': CyberBadge,
  'neon-alert': NeonAlert,
  'digital-rain': DigitalRain,
  'hologram-avatar': HologramAvatar,
};

const SelectedComponent = COMPONENT_MAP[id];
---

<div class="renderer-container">
  {SelectedComponent ? (
    <SelectedComponent />
  ) : (
    <div class="fallback-msg">
      <span class="icon">⚠️</span>
      <p>COMPONENT_NOT_FOUND: {id}</p>
    </div>
  )}
</div>

<style>
  .renderer-container {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 2rem;
  }

  .fallback-msg {
    text-align: center;
    font-family: var(--font-mono);
    color: var(--color-neutral);
    opacity: 0.5;
  }

  .fallback-msg .icon {
    font-size: 2rem;
    display: block;
    margin-bottom: 0.5rem;
  }
</style>
